<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Item Conversions </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Item Conversions ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
  
  
  
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="item-conversions">Item Conversions</h1>

<p>An <em>item conversion</em> in Valheim is the process of turning one or more items into another item using a specific station.
For example the cooking of raw meat into cooked meat on the cooking station.
Or the creation of ingots from ores in the furnace.
Jötunn provides a common interface for adding custom conversions with vanilla items or your own custom items.
Adding of custom item conversions is done through the <a class="xref" href="../api/Jotunn.Managers.ItemManager.html">ItemManager</a> singleton class and JVLs abstraction <a class="xref" href="../api/Jotunn.Entities.CustomItemConversion.html">CustomItemConversion</a>.</p>
<p>All item conversions will always be loaded <strong>after</strong> all items.
However, item conversions will be loaded in the order that you call the <code>AddItemConversion</code> function.</p>
<h2 id="valheims-builtin-conversion-system">Valheim's builtin conversion system</h2>
<p>Valheim has four different types of conversion components: <code>CookingStation</code>, <code>Fermenter</code>, <code>Incinerator</code> and <code>Smelter</code>.</p>
<p>Each of these components can do a conversion from one item to another, some with additional &quot;fuel&quot; items.
The Jötunn <a class="xref" href="../api/Jotunn.Entities.CustomItemConversion.html">CustomItemConversion</a> can be used for either of the conversions.
But since Valheim has three completely different base classes for all conversions, we had to make three different config classes for it, which can be used to construct the CustomItemConversion.</p>
<h2 id="cookingstation-conversion-example">CookingStation Conversion Example</h2>
<p>To add a conversion for a piece with the CookingStation component use the <a class="xref" href="../api/Jotunn.Configs.CookingConversionConfig.html">CookingConversionConfig</a>.
You can specify the time needed to cook the item with that config.</p>
<p><strong>Note</strong>: The <code>FromItem</code> prefab needs to have an attach point. Adding prefabs without it result in errors in the game.</p>
<pre><code class="lang-cs">// Add an item conversion for the CookingStation. The items must have an &quot;attach&quot; child GameObject to display it on the station.
var cookConfig = new CookingConversionConfig();
cookConfig.FromItem = &quot;CookedMeat&quot;;
cookConfig.ToItem = &quot;CookedLoxMeat&quot;;
cookConfig.Station = CookingStations.CookingStation;
cookConfig.CookTime = 2f;
ItemManager.Instance.AddItemConversion(new CustomItemConversion(cookConfig));
</code></pre>
<h2 id="fermenter-conversion-example">Fermenter Conversion Example</h2>
<p>To add a conversion for a piece with the Fermenter component use the <a class="xref" href="../api/Jotunn.Configs.FermenterConversionConfig.html">FermenterConversionConfig</a>.
You can specify the amount of items gained from a single conversion.</p>
<pre><code class="lang-cs">// Add an item conversion for the Fermenter. You can specify how much new items the conversion yields.
var fermentConfig = new FermenterConversionConfig();
fermentConfig.ToItem = &quot;CookedLoxMeat&quot;;
fermentConfig.FromItem = &quot;Coal&quot;;
fermentConfig.Station = Fermenters.Fermenter;
fermentConfig.ProducedItems = 10;
ItemManager.Instance.AddItemConversion(new CustomItemConversion(fermentConfig));
</code></pre>
<h2 id="incinerator-conversion-example">Incinerator Conversion Example</h2>
<p>To add a conversion for a piece with the Incinerator component use the <a class="xref" href="../api/Jotunn.Configs.IncineratorConversionConfig.html">IncineratorConversionConfig</a>
This one takes one or more items with varying amounts as requirements.
These lists are created using the <a class="xref" href="../api/Jotunn.Configs.IncineratorRequirementConfig.html">IncineratorRequirementConfig</a>.
You can also specify the resulting item as well as a priority if more than one of all conversion's requirements are met.</p>
<pre><code class="lang-cs">// Add an incinerator conversion. This one is special since the incinerator conversion script 
// takes one or more items to produce any amount of a new item
var incineratorConfig = new IncineratorConversionConfig();
incineratorConfig.Requirements.Add(new IncineratorRequirementConfig(&quot;Wood&quot;, 1));
incineratorConfig.Requirements.Add(new IncineratorRequirementConfig(&quot;Stone&quot;, 1));
incineratorConfig.ToItem = &quot;Coins&quot;;
incineratorConfig.Station = Incinerators.Incinerator;
incineratorConfig.ProducedItems = 20;
incineratorConfig.RequireOnlyOneIngredient = false;  // true = only one of the requirements is needed to produce the output
incineratorConfig.Priority = 5;                      // Higher priorities get preferred when multiple requirements are met
ItemManager.Instance.AddItemConversion(new CustomItemConversion(incineratorConfig));
</code></pre>
<h2 id="smelter-conversion-example">Smelter Conversion Example</h2>
<p>To add a conversion for a piece with the Smelter component use the <a class="xref" href="../api/Jotunn.Configs.SmelterConversionConfig.html">SmelterConversionConfig</a>.
There is more than one piece in vanilla Valheim with this type of conversion.
The default for the &quot;Station&quot; property in the SmelterConversionConfig is the basic &quot;smelter&quot;. To add a conversion for it simply define FromItem and ToItem.</p>
<pre><code class="lang-cs">var smelterConfig = new SmelterConversionConfig();
smelterConfig.FromItem = &quot;Stone&quot;;
smelterConfig.ToItem = &quot;CookedLoxMeat&quot;;
smelterConfig.Station = Smelters.Smelter;
ItemManager.Instance.AddItemConversion(new CustomItemConversion(smelterConfig));
</code></pre>
<p>You can also override the default &quot;Station&quot; property with another station string to add a smelter conversion for this station.
Please note that in this example a custom item is used.
Take a look at the <a href="items.html">custom item guide</a> on how to add own items to the game.</p>
<pre><code class="lang-cs">// Load and create a custom item to use in another conversion
var steelPrefab = Steelingot.LoadAsset&lt;GameObject&gt;(&quot;Steel&quot;);
var ingot = new CustomItem(steelPrefab, fixReference: false);
ItemManager.Instance.AddItem(ingot);

// Create a conversion for the blastfurnace, the custom item is the new outcome
var blastConfig = new SmelterConversionConfig();
blastConfig.Station = Smelters.BlastFurnace; // let's specify something other than default here
blastConfig.FromItem = &quot;Iron&quot;;
blastConfig.ToItem = &quot;Steel&quot;; // this is our custom prefabs name we have loaded just above

ItemManager.Instance.AddItemConversion(new CustomItemConversion(blastConfig));
</code></pre>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Valheim-Modding/Jotunn/blob/prod/JotunnLib/Documentation/tutorials/item-conversions.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <div class="toggle-mode">
                <div class="icon">
                  <i aria-hidden="true">☀</i>
                </div>
                <label class="switch">
                  <input type="checkbox" id="switch-style">
                  <span class="slider round"></span>
                </label>
                <div class="icon">
                  <i aria-hidden="true">☾</i>
                </div>
              </div>

              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <h5>In This Article</h5>
              <div></div>
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <div class="pull-left">
        
        <span>Generated by <strong>DocFX</strong></span>
            </div>
            <div class="toggle-mode pull-right visible-sm visible-xs">
              <div class="icon">
                <i aria-hidden="true">☀</i>
              </div>
              <label class="switch">
                <input type="checkbox" id="switch-style-m">
                <span class="slider round"></span>
              </label>
              <div class="icon">
                <i aria-hidden="true">☾</i>
              </div>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="../styles/toggle-theme.js"></script>
      </footer>    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
